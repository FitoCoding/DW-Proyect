{{> navbar}}
{{> marquee}}
{{> head}}

<section class="container py-5 d-flex justify-content-center align-items-center" style="margin-top: 105px;">
  <div class="card card-registration">
    <div class="card-body">
      <h3 class="form-title">Formulario de Registro</h3>

      <!-- Mostrar mensaje de error si existe -->
      {{#if error}}
        <div class="alert alert-danger">
          {{error}}
        </div>
      {{/if}}

      <!-- Formulario de registro -->
      <form action="/auth/register" method="POST">
        <!-- Datos Personales -->
        <fieldset class="mb-4">
          <legend class="fieldset-title">Datos Personales</legend>
          <div class="row">
            <div class="col-md-6 mb-4">
              <label for="name" class="form-label">Nombre</label>
              <input id="name" name="name" type="text" class="form-control" placeholder="Nombre" required>
            </div>
            <div class="col-md-6 mb-4">
              <label for="lastname" class="form-label">Apellido</label>
              <input id="lastname" name="lastname" type="text" class="form-control" placeholder="Apellido" required>
            </div>
          </div>
        </fieldset>

        <!-- Dirección -->
        <fieldset class="mb-4">
          <legend class="fieldset-title">Dirección</legend>
          <div class="mb-4">
            <label for="address" class="form-label">Dirección</label>
            <input id="address" name="address" type="text" class="form-control" placeholder="Dirección" required>
          </div>

          <div class="d-flex mb-4">
            <div class="me-4 w-50">
              <label for="region" class="form-label">Región</label>
              <select id="region" name="region" class="form-select" required>
                <option value="" disabled selected>Seleccione Región</option>
                {{#each regiones}}
                <option value="{{this.name}}">{{this.name}}</option>
                {{/each}}
              </select>
            </div>
            <div class="w-50">
              <label for="comuna" class="form-label">Comuna</label>
              <select id="comuna" name="comuna" class="form-select" required>
                <option value="" disabled selected>Seleccione Comuna</option>
                {{#each regiones}}
                  {{#each this.communes}}
                  <option value="{{this.name}}" data-region="{{@../index}}">{{this.name}}</option>
                  {{/each}}
                {{/each}}
              </select>
            </div>
          </div>

          <div class="mb-4">
            <label for="zipcode" class="form-label">Código Postal</label>
            <input id="zipcode" name="zipcode" type="text" class="form-control" placeholder="Código Postal" required>
          </div>
        </fieldset>

        <!-- Cuenta -->
        <fieldset class="mb-4">
          <legend class="fieldset-title">Cuenta</legend>
          <div class="mb-4">
            <label for="email" class="form-label">Correo Electrónico</label>
            <input id="email" name="email" type="email" class="form-control" placeholder="Correo Electrónico" required>
          </div>
          <div class="mb-4">
            <label for="password" class="form-label">Contraseña</label>
            <input id="password" name="password" type="password" class="form-control" placeholder="Contraseña" required>
          </div>
          <div class="mb-4">
            <label for="password2" class="form-label">Confirmar Contraseña</label>
            <input id="password2" name="password2" type="password" class="form-control" placeholder="Confirmar Contraseña" required>
          </div>
        </fieldset>

        <!-- Género -->
        <fieldset class="mb-4">
          <legend class="fieldset-title">Género</legend>
          <div class="d-flex align-items-center">
            <div class="form-check form-check-inline me-3">
              <input id="female" class="form-check-input" type="radio" name="gender" value="female" required>
              <label class="form-check-label" for="female">Mujer</label>
            </div>
            <div class="form-check form-check-inline me-3">
              <input id="male" class="form-check-input" type="radio" name="gender" value="male" required>
              <label class="form-check-label" for="male">Hombre</label>
            </div>
            <div class="form-check form-check-inline">
              <input id="other" class="form-check-input" type="radio" name="gender" value="other" required>
              <label class="form-check-label" for="other">Otro</label>
            </div>
          </div>
        </fieldset>

        <!-- Botones de Acción -->
        <div class="d-flex justify-content-end">
          <button id="reset" type="reset" class="btn btn-outline-secondary me-2">Limpiar</button>
          <button id="submit" type="submit" class="btn btn-primary">Registrarse</button>
        </div>
      </form> <!-- Fin del formulario -->
    </div>
  </div>
</section>

<script type="module" src="/javascript/register.js"></script>
{{> offcanvasCart}}
{{> offcanvasProfile}}
{{> footer}}
</body>
</html>
